{% extends "layout.html" %}

{% block pageTitle %}
  Check contact details you have added
{% endblock %}

{% block header %}
{% include "/prototype-dev-baseline/mvp-1_2/common/non-telephony/header_keydetail_bar.html" %}
{% endblock %}


{% block footer %}
  {% include "/prototype-sprint-wise/ur-8/common/footer.html" %}
{% endblock %}

{% block beforeContent %}
  {% include "/prototype-sprint-wise/ur-8/common/phase-banner.html" %}  
  <a class="govuk-back-link" href="javascript:window.history.back()">Back</a>
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <span class="govuk-caption-l">Step 3 of 3</span>
    <h1 class="govuk-heading-l">Check the details you have added</h1>
    {% set contactType =  data['What-type-of-contact'] %}
    {% set benefits =  data['what-benefit-discussed-non-telephony'] %}
    {% set benefitLength =  data['what-benefit-discussed-non-telephony'] | length %}
    
    {% if benefitLength >1 %}
      <div class="govuk-summary-card">
        <div class="govuk-summary-card__title-wrapper">
          <h2 class="govuk-summary-card__title">Benefits</h2>
          <ul class="govuk-summary-card__actions">
            <li class="govuk-summary-card__action">
              <a class="govuk-link" href="what-benefits-discussed.html">Change<span class="govuk-visually-hidden">the benefit that was discussed</span></a>
            </li>
          </ul>
        </div>
        <div class="govuk-summary-card__content">
          <table class="govuk-summary-list govuk-!-margin-bottom-0">
            <tbody class="govuk-summary-list">
              <tr class="govuk-summary-list__row">
                <th scope="row" class="govuk-summary-list__key govuk-!-width-one-third govuk-!-display-none">
                  Benefit name
                </th>
                <td class="govuk-summary-list__value">
                  <ul class="govuk-list govuk-list--bullet">
                    {% for benefit in data['what-benefit-discussed-non-telephony'] %}
                    <li>{{ benefit }}</li>
                    {% endfor %}
                  </ul>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="govuk-summary-card">
        {% set questionAsk = data['question-asked'] %}
        <div class="govuk-summary-card__title-wrapper">
          <h2 class="govuk-summary-card__title">What the contact was about</h2>
          <ul class="govuk-summary-card__actions">
            <li class="govuk-summary-card__action">
              <a class="govuk-link" href="questions-asked.html">Change<span class="govuk-visually-hidden">the benefit that was discussed</span></a>
            </li>
          </ul>
        </div>
        <div class="govuk-summary-card__content">
          <table class="govuk-summary-list govuk-!-margin-bottom-0">
            <tbody class="govuk-summary-list">
              <tr class="govuk-summary-list__row">
                <th scope="row" class="govuk-summary-list__key">
                  Employment and Support Allowance
                </th>
                <td class="govuk-summary-list__value">
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsESA in data['questionAsk-esa'] %}
                    <li>{{ questionsESA or "No inquiry selected"}}</li>
                    {% endfor %}
                  </ul>
                </td>
              </tr>
              <tr class="govuk-summary-list__row">
                <th scope="row" class="govuk-summary-list__key">
                  Personal Independence Payment
                </th>
                <td class="govuk-summary-list__value">
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questionsPIP in data['questionAsk-pip'] %}
                    <li>{{ questionsPIP }}</li>
                    {% endfor %}
                  </ul>
                </td>
              </tr>
              <tr class="govuk-summary-list__row">
                <th scope="row" class="govuk-summary-list__key">
                Note
                </th>
                <td class="govuk-summary-list__value">
                  {{ data['addNote'] or "Not provided" }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- warning message -->
      <div class="govuk-warning-text">
        <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
        <strong class="govuk-warning-text__text">
        <span class="govuk-visually-hidden">Warning</span>
        When you select confirm, you will not be able to remove the benefits you have added.
        </strong>
      </div>
    {% else %}
    {%if (benefitLength == 1) and ( benefits != 'General information') %}
      <div class="govuk-summary-card">
        {% set questionAsk = data['question-asked'] %}
        <div class="govuk-summary-card__title-wrapper">
          <h2 class="govuk-summary-card__title">Benefits</h2>
          <ul class="govuk-summary-card__actions">
            <li class="govuk-summary-card__action">
              <a class="govuk-link" href="what-benefits-discussed.html">Change<span class="govuk-visually-hidden">the benefit that was discussed</span></a>
            </li>
          </ul>
        </div>
        <div class="govuk-summary-card__content">
          <table class="govuk-summary-list govuk-!-margin-bottom-0">
            <tbody class="govuk-summary-list">
              <tr class="govuk-summary-list__row">
                <th scope="row" class="govuk-summary-list__key govuk-!-width-one-third govuk-!-display-none">
                  Benefit name
                </th>
                <td class="govuk-summary-list__value">
                  {{benefits}}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="govuk-summary-card">
        {% set questionAsk = data['question-asked'] %}
        <div class="govuk-summary-card__title-wrapper">
          <h2 class="govuk-summary-card__title">What the contact was about</h2>
          <ul class="govuk-summary-card__actions">
            <li class="govuk-summary-card__action">
              <a class="govuk-link" href="questions-asked.html">Change<span class="govuk-visually-hidden">the benefit that was discussed</span></a>
            </li>
          </ul>
        </div>
        <div class="govuk-summary-card__content">
          <table class="govuk-summary-list govuk-!-margin-bottom-0">
            <tbody class="govuk-summary-list">
              <tr class="govuk-summary-list__row">
                <th scope="row" class="govuk-summary-list__key govuk-!-width-one-third">
                  {{ benefits }} 
                </th>
                <td class="govuk-summary-list__value">
                  <ul class="govuk-list govuk-list--bullet">
                    {% for questions in data['question-asked'] %}
                    <li>{{ questions }}</li>
                    {% endfor %}
                  </ul>
                </td>
              </tr>
              <tr class="govuk-summary-list__row">
                <th scope="row" class="govuk-summary-list__key">
                  Note
                </th>
                <td class="govuk-summary-list__value">
                  {{ data['addNote'] or "Not provided" }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- warning message -->
      <div class="govuk-warning-text">
        <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
        <strong class="govuk-warning-text__text">
        <span class="govuk-visually-hidden">Warning</span>
        When you select confirm, you will not be able to remove the benefits you have added.
        </strong>
      </div>
    {% else %}
      <!-- No benefit -->
      <div class="govuk-summary-card">
        {% set questionAsk = data['question-asked'] %}
        {% set noBenefitReason = data['noBenefitReason'] %}
        <div class="govuk-summary-card__title-wrapper">
          <h2 class="govuk-summary-card__title">What the contact was about</h2>
          <ul class="govuk-summary-card__actions">
            <li class="govuk-summary-card__action">
              <a class="govuk-link" href="what-benefits-discussed.html">Change<span class="govuk-visually-hidden">the benefit that was discussed</span></a>
            </li>
          </ul>
        </div>
        <div class="govuk-summary-card__content">
          <table class="govuk-summary-list govuk-!-margin-bottom-0">
            <tbody class="govuk-summary-list">
              <tr class="govuk-summary-list__row">
                <th scope="row" class="govuk-summary-list__key govuk-!-width-one-third govuk-!-display-none">
                  Benefit name
                </th>
                <td class="govuk-summary-list__value">
                  {{benefits}} â€” {{noBenefitReason}}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- Note added -->
      <div class="govuk-summary-card">
        {% set questionAsk = data['question-asked'] %}
        <div class="govuk-summary-card__title-wrapper">
          <h2 class="govuk-summary-card__title">Notes</h2>
          <ul class="govuk-summary-card__actions">
            <li class="govuk-summary-card__action">
              <a class="govuk-link" href="no-benefit.html">Change<span class="govuk-visually-hidden">the benefit that was discussed</span></a>
            </li>
          </ul>
        </div>
        <div class="govuk-summary-card__content">
          <table class="govuk-summary-list govuk-!-margin-bottom-0">
            <tbody class="govuk-summary-list">
              <tr class="govuk-summary-list__row">
                <th scope="row" class="govuk-summary-list__key govuk-!-display-none">
                  Note
                </th>
                <td class="govuk-summary-list__value">
                  {{ data['addNote'] or "Not provided" }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- warning message -->
      <div class="govuk-warning-text">
        <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
        <strong class="govuk-warning-text__text">
          <span class="govuk-visually-hidden">Warning</span>
          When you select confirm, you will not be able to remove the no benefit subject. You will be able to update your note and add new benefits.
        </strong>
      </div>
    {% endif %} 
    {% endif %} 
    <form action="added-details" method="post" novalidate>
      <input type="hidden" name="answers-checked" value="true">
      <button class="govuk-button" data-module="govuk-button">
        Confirm
      </button>
    </form>
  </div>
</div>
{% endblock %}
